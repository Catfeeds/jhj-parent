function isLogin(){return"undefined"!=typeof localStorage.user_id&&""!=localStorage.user_id}function toolBarHref(a,b){var c=["toolbar-index","toolbar-order","toolbar-charge","toolbar-mine"];$$.each(c,function(a,c){c==b?($$("#"+c).addClass("active"),$$("#"+c).css("color","#FB571E")):($$("#"+c).removeClass("active"),$$("#"+c).css("color","#000"))}),mainView.router.loadPage(a)}function isWeiXin(){var a=window.navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)}function ajaxServiceTypeListSuccess(a,b,c){var d=JSON.parse(a.response);if("999"==d.status)return void myApp.alert(d.msg);var e=JSON.stringify(d.data);localStorage.setItem("service_type_list",e)}function getServiceAddonName(a){var b=JSON.parse(localStorage.getItem("service_type_addons_list")),c="";return $$.each(b,function(b,d){d.service_addon_id==a&&(c=d.name)}),c}function getServiceAddonPrice(a){var b=JSON.parse(localStorage.getItem("service_type_addons_list")),c="";return $$.each(b,function(b,d){d.service_addon_id==a&&(c=d.price)}),c}function getServiceAddonDefaultNum(a){var b=JSON.parse(localStorage.getItem("service_type_addons_list")),c="";return $$.each(b,function(b,d){d.service_addon_id==a&&(c=d.default_num)}),c}function getAstroName(a){var b="";switch(a){case 0:b="魔羯座";break;case 1:b="水瓶座";break;case 2:b="双鱼座";break;case 3:b="白羊座";break;case 4:b="金牛座";break;case 5:b="双子座";break;case 6:b="巨蟹座";break;case 7:b="狮子座";break;case 8:b="处女座";break;case 9:b="天秤座";break;case 10:b="天蝎座";break;case 11:b="射手座";break;default:b=""}return b}function getAm(){var a=localStorage.getItem("user_id");return void 0!=a&&""!=a&&void $$.ajax({type:"get",url:siteAPIPath+"user/user_get_am_id.json?user_id="+a,cache:!0,async:!1,success:function(a,b,c){var d=JSON.parse(a),e=d.data;if("undefiend"!=typeof e&&""!=e&&null!=e){var f=e.am_id,g=e.am_mobile;localStorage.setItem("am_id",f),localStorage.setItem("am_mobile",g)}}})}function partnerServiceTypeList(){$$.ajax({type:"GET",url:siteAPIPath+"partService/part_service_tree_list.json?",dataType:"json",cache:!0,statusCode:{200:partServiceTreeSuccess,400:ajaxError,500:ajaxError}})}function partServiceTreeSuccess(a,b,c){var d=JSON.parse(a.response),e=JSON.stringify(d.data);localStorage.setItem("part_service_type_tree_list",e)}function inputNum(a){var b=a.val();b=b.replace(/[^\d\.]/g,""),a.val(b)}function isNum(a){return null!=a&&a.length>0&&0==isNaN(a)}function replaceParamVal(url,paramName,replaceWith){var re=eval("/("+paramName+"=)([^&]*)/gi"),nUrl=url.replace(re,paramName+"="+replaceWith);return nUrl}function delChinese(a){var b=/[\u4E00-\u9FA5]/g,c=a.replace(b,"");return c}function delSomeString(a){var b=a.substr(1,a.length);return b}function isPhone(a){var b=RegExp(/^(0|86|17951)?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/).test(a);return!!b}function isEmail(a){var b=RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(a);return!!b}var host=window.location.host,appName="jhj-app",localUrl="http://"+host,siteAPIPath=localUrl+"/"+appName+"/app/",siteApp="u",sitePath=localUrl+"/"+siteApp,userLoggedIn=!1,myApp=new Framework7({precompileTemplates:!0,template7Pages:!0,pushState:!0,cache:!1,modalTitle:"提示",modalButtonOk:"确定",modalButtonCancel:"返回",template7Data:{},material:!1,allowDuplicateUrls:!0,domCache:!0,onAjaxStart:function(a){myApp.hideIndicator()},onAjaxComplete:function(a){myApp.hideIndicator()},preroute:function(a,b){return!isLogin()&&b.url.indexOf("order/order-hour-choose.html")>=0?(a.router.loadPage("login.html"),!1):!isLogin()&&b.url.indexOf("order/order-deep-choose.html")>=0?(a.router.loadPage("login.html"),!1):(isLogin()||"order/order-list.html"!=b.url)&&(isLogin()||"user/mine.html"!=b.url)&&(isLogin()||"user/charge/mine-charge-list.html"!=b.url)&&(isLogin()||"user/serviceCharge/order-service-charge.html"!=b.url)?void 0:(a.router.loadPage("login.html"),!1)}}),$$=jQuery=Dom7,mainView=myApp.addView(".view-main",{dynamicNavbar:!0}),ajaxError=function(a,b,c){myApp.hideIndicator(),myApp.alert("网络繁忙,请稍后再试.")},getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.href);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))};