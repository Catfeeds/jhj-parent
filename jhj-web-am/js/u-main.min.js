function isLogin(){return"undefined"!=typeof localStorage.am_id&&""!=localStorage.am_id}function toolBarHref(a,b){var c=$$("#toolbar-order"),d=$$("#toolbar-user"),e=$$("#toolbar-mine"),f=$$("#toolbar-remind");"toolbar-order"==b&&(c.addClass("active"),c.css("color","#EF7B00"),d.removeClass("active"),d.css("color","#FFF"),e.removeClass("active"),e.css("color","#FFF"),f.removeClass("active"),f.css("color","#FFF")),"toolbar-user"==b&&(d.addClass("active"),d.css("color","#EF7B00"),c.removeClass("active"),c.css("color","#FFF"),e.removeClass("active"),e.css("color","#FFF"),f.removeClass("active"),f.css("color","#FFF")),"toolbar-mine"==b&&(e.addClass("active"),e.css("color","#EF7B00"),c.removeClass("active"),c.css("color","#FFF"),d.removeClass("active"),d.css("color","#FFF"),f.removeClass("active"),f.css("color","#FFF")),"toolbar-remind"==b&&(f.addClass("active"),f.css("color","#EF7B00"),c.removeClass("active"),c.css("color","#FFF"),d.removeClass("active"),d.css("color","#FFF"),e.removeClass("active"),e.css("color","#FFF")),mainView.router.loadPage(a)}function serviceTypeList(){$$.ajax({type:"GET",url:siteAPIPath+"dict/get_serviceType.json?",dataType:"json",async:!1,cache:!0,statusCode:{200:ajaxServiceTypeListSuccess,400:ajaxError,500:ajaxError}})}function serviceTypeAddonsList(){$$.ajax({type:"GET",url:siteAPIPath+"dict/get_service_addons_type.json?",dataType:"json",async:!1,cache:!0,statusCode:{200:ajaxServiceTypeAddonsListSuccess,400:ajaxError,500:ajaxError}})}function ajaxServiceTypeListSuccess(a,b,c){var d=JSON.parse(a.response);if("999"==d.status)return void myApp.alert(d.msg);var e=JSON.stringify(d.data);localStorage.setItem("service_type_list",e)}function ajaxServiceTypeAddonsListSuccess(a,b,c){var d=JSON.parse(a.response);if("999"==d.status)return void myApp.alert(d.msg);var e=JSON.stringify(d.data);localStorage.setItem("service_type_addons_list",e)}function getServiceAddonName(a){var b=JSON.parse(localStorage.getItem("service_type_addons_list")),c="";return $$.each(b,function(b,d){d.service_addon_id==a&&(c=d.name)}),c}function getServiceAddonPrice(a){var b=JSON.parse(localStorage.getItem("service_type_addons_list")),c="";return $$.each(b,function(b,d){d.service_addon_id==a&&(c=d.price)}),c}function getAstroName(a){var b="";switch(a){case 0:b="魔羯座";break;case 1:b="水瓶座";break;case 2:b="双鱼座";break;case 3:b="白羊座";break;case 4:b="金牛座";break;case 5:b="双子座";break;case 6:b="巨蟹座";break;case 7:b="狮子座";break;case 8:b="处女座";break;case 9:b="天秤座";break;case 10:b="天蝎座";break;case 11:b="射手座";break;default:b=""}return b}function isNum(a){return null!=a&&a.length>0&&0==isNaN(a)?!0:!1}function isPhone(a){var b=RegExp(/^(0|86|17951)?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/).test(a);return b?!0:!1}function isEmail(a){var b=RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(a);return b?!0:!1}var host=window.location.host,appName="jhj-app/app/",localUrl="http://"+host,siteAPIPath=localUrl+"/"+appName,siteApp="am",userLoggedIn=!1,myApp=new Framework7({precompileTemplates:!0,template7Pages:!0,pushState:!0,cache:!1,modalTitle:"提示",template7Data:{},onAjaxStart:function(a){myApp.showIndicator()},onAjaxComplete:function(a){myApp.hideIndicator()},preroute:function(a,b){return isLogin()||"login.html"==b.url?void(void 0!=b&&""==b.url&&a.router.loadPage("order/order-list.html")):(a.router.loadPage("login.html"),!1)}}),$$=jQuery=Dom7,mainView=myApp.addView(".view-main",{dynamicNavbar:!0}),ajaxError=function(a,b,c){myApp.hideIndicator(),myApp.alert("网络繁忙,请稍后再试.")},getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.href);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))};myApp.onPageInit("index",function(a){mainView.router.loadPage("order/order-list.html")}).trigger(),null==localStorage.getItem("service_type_list")&&serviceTypeList(),null==localStorage.getItem("service_type_addons_list")&&serviceTypeAddonsList(),null==localStorage.getItem("service_type_addons_list")&&serviceTypeAddonsList();